--- ghc-6.12.1/configure.ac~	2009-12-10 19:11:33.000000000 +0100
+++ ghc-6.12.1/configure.ac	2010-04-08 15:50:31.639124660 +0200
@@ -274,7 +274,7 @@
 
 checkArch() {
     case $1 in
-    alpha|arm|hppa|hppa1_1|i386|ia64|m68k|mips|mipseb|mipsel|powerpc|powerpc64|rs6000|s390|sparc|sparc64|vax|x86_64)
+    alpha|arm|hppa|hppa1_1|i386|i486|i586|i686|ia64|m68k|mips|mipseb|mipsel|powerpc|powerpc64|rs6000|s390|sparc|sparc64|vax|x86_64)
         ;;
     *)
         echo "Unknown arch $1"
@@ -285,7 +285,7 @@
 
 checkVendor() {
     case $1 in
-    dec|unknown|hp|apple|next|sun|sgi|ibm)
+    pld|dec|unknown|hp|apple|next|sun|sgi|ibm)
         ;;
     *)
         echo "Unknown vendor $1"
--- ghc-6.12.1/libraries/terminfo/configure.ac~	2009-09-15 08:09:05.000000000 +0200
+++ ghc-6.12.1/libraries/terminfo/configure.ac	2010-04-08 16:43:45.040705349 +0200
@@ -13,7 +13,8 @@
     [curses_libraries=NONE])
 
 
-TERMINFO_INCLUDE_DIRS=
+TERMINFO_INCLUDE_DIRS=/usr/include/ncursesw
+CPPFLAGS="-I/usr/include/ncursesw $CPPFLAGS"
 TERMINFO_LIB_DIRS=
 if test "x$curses_libraries" != "xNONE"; then
   LDFLAGS="-L$curses_libraries $LDFLAGS"
--- ghc-7.2.1/driver/split/ghc-split.lprl~	2011-08-07 19:10:05.000000000 +0200
+++ ghc-7.2.1/driver/split/ghc-split.lprl	2011-09-26 11:13:36.907176266 +0200
@@ -225,7 +225,7 @@
                             if $TargetPlatform =~ /-apple-darwin/m;
     return(&process_asm_block_m68k($str))  if $TargetPlatform =~ /^m68k-/m;
     return(&process_asm_block_sparc($str)) if $TargetPlatform =~ /^sparc-/m;
-    return(&process_asm_block_iX86($str))  if $TargetPlatform =~ /^i[34]86-/m;
+    return(&process_asm_block_iX86($str))  if $TargetPlatform =~ /^i[3456]86-/m;
     return(&process_asm_block_x86_64($str))  if $TargetPlatform =~ /^x86_64-/m;
     return(&process_asm_block_alpha($str)) if $TargetPlatform =~ /^alpha-/m;
     return(&process_asm_block_hppa($str))  if $TargetPlatform =~ /^hppa/m;
