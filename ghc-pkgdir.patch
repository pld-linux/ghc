--- ghc-6.12.3/libraries/Cabal/Cabal/Distribution/Simple/InstallDirs.hs~	2010-06-09 20:10:19.000000000 +0200
+++ ghc-6.12.3/libraries/Cabal/Cabal/Distribution/Simple/InstallDirs.hs	2010-08-26 21:28:52.969002660 +0200
@@ -205,7 +205,7 @@
 -- users to be able to configure @--libdir=\/usr\/lib64@ for example but
 -- because by default we want to support installing multiple versions of
 -- packages and building the same package for multiple compilers we append the
--- libsubdir to get: @\/usr\/lib64\/$libname\/$compiler@.
+-- libsubdir to get: @\/usr\/lib64\/$compiler\/$libname@.
 --
 -- An additional complication is the need to support relocatable packages on
 -- systems which support such things, like Windows.
@@ -204,11 +204,11 @@
       libdir       = installLibDir,
       libsubdir    = case comp of
            UHC    -> "$pkgid"
-           _other -> "$abi" </> "$libname",
+           _other -> "$compiler" </> "$pkgid",
       dynlibdir    = "$libdir" </> case comp of
            UHC    -> "$pkgid"
            _other -> "$abi",
-      libexecsubdir= "$abi" </> "$pkgid",
+      libexecsubdir= "$pkgid",
       flibdir      = "$libdir",
       libexecdir   = case buildOS of
         Windows   -> "$prefix" </> "$libname"
@@ -217,7 +217,7 @@
       datadir      = case buildOS of
         Windows   -> "$prefix"
         _other    -> "$prefix" </> "share",
-      datasubdir   = "$abi" </> "$pkgid",
+      datasubdir   = "$pkgid",
       docdir       = "$datadir" </> "doc" </> "$abi" </> "$pkgid",
       mandir       = "$datadir" </> "man",
       htmldir      = "$docdir"  </> "html",
